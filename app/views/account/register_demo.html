<div class="account_ctn">
    <span class="account_ctn__step">只需一步，即刻开始</span>
    <h4 class="account_ctn__title">
        注册账户
    </h4>

    <div ng-show="step === 1">
        <form name="registerForm" novalidate>
            <div class="row form_row">
                <div class="col-xs-2 text-right">
                    <label>昵称</label>
                </div>
                <div class="col-xs-5">
                    <input class="form-control" 
                           name="username" 
                           type="text"
                           required
                           ng-model="account.username"
                           ng-pattern="/^[\u4e00-\u9fa5a-zA-Z\d]{4,20}$/"
                           ng-blur="showErr('username')"
                           ng-focus="hideErr('username')">
                    <div ng-show="formErr.username">
                        <p class="alert alert-danger" ng-show="registerForm.username.$error.required">
                            请输入昵称
                        </p>
                         <p class="alert alert-danger" ng-show="registerForm.username.$error.pattern">
                            昵称由 4-30 个中文、英文、数字字符组成
                        </p>
                        <p class="alert alert-danger" ng-show="account.usernameExist">
                            昵称已存在
                        </p>
                    </div>
                </div>
            </div>

            <div class="row form_row">
                <div class="col-xs-2 text-right">
                    <label>手机号码</label>
                </div>
                
                <div class="col-xs-5">
                    <input class="form-control" 
                           name="phone"
                           type="text"
                           required
                           ng-model="account.phone"
                           ng-pattern="/^(0|86|17951)?(13[0-9]|14[57]|15[0-35-9]|17[678]|18[0-9])[0-9]{8}$/"
                           ng-focus="hideErr('phone')"
                           ng-blur="showErr('phone')">
                    <div ng-show="formErr.phone">
                        <p class="alert alert-danger" ng-show="registerForm.phone.$error.required">
                            请输入手机号码
                        </p>
                        <p class="alert alert-danger" ng-show="registerForm.phone.$error.pattern">
                            输入手机号码格式不正确
                        </p>
                        <p class="alert alert-danger" ng-show="account.phoneExist">
                            该手机号码已经注册
                        </p>
                    </div>
                </div>
            </div>
            <div class="row form_row">
                <div class="col-xs-2 text-right">
                    <label>验证码</label>
                </div>
                
                <div class="col-xs-3">
                    <input class="form-control" 
                           name="verifyCode"
                           type="text"
                           required
                           ng-model="account.verifyCode"
                           ng-blur="showErr('verifyCode')"
                           ng-focus="hideErr('verifyCode')">
                    <div ng-show="formErr.verifyCode">
                        <p class="alert alert-danger" ng-show="registerForm.verifyCode.$error.required">
                            请输入验证码
                        </p>
                        <p class="alert alert-danger" ng-show="!account.codeCorrect">
                            验证码不正确
                        </p>
                    </div>
                </div>
                
                <div class="col-xs-2">
                    <span class="verify_timer_btn" tw-verify-timer ng-click="getVerifyCode()">
                    </span>
                </div>
            </div>

            <div class="row form_row">
                <div class="col-xs-2 text-right">
                    <label>电子邮箱</label>
                </div>
                <div class="col-xs-5">
                    <input class="form-control" 
                           name="email" 
                           type="text"
                           required
                           ng-model="account.email"
                           ng-pattern="/^\w+([-.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/"
                           ng-focus="hideErr('email')"
                           ng-blur="showErr('email')">
                    <div ng-show="formErr.email">
                        <p class="alert alert-danger" ng-show="registerForm.email.$error.required">
                            请输入电子邮箱
                        </p>
                        <p class="alert alert-danger" ng-show="registerForm.email.$error.pattern">
                            输入的电子邮箱格式不正确
                        </p>
                        <p class="alert alert-danger" ng-show="account.emailExist">
                            该电子邮箱已经注册
                        </p>
                    </div>
                </div>
            </div>

            <div class="row form_row">
                <div class="col-xs-2 text-right">
                    <label>密码</label>
                </div>
                <div class="col-xs-5">
                    <input class="form-control" 
                           name="password" 
                           type="password"
                           required
                           ng-model="account.password"
                           tw-pwd-valid
                           ng-focus="hideErr('password')"
                           ng-blur="showErr('password')">
                    <div ng-show="formErr.password">
                        <p class="alert alert-danger" ng-show="registerForm.password.$error.required">
                            请输入密码
                        </p>
                        <p class="alert alert-danger" ng-show="registerForm.password.$error.twPwdValid">
                            6-15 个字符，可由大写字母，小写字母，数字，符号（有限制）组成，且至少包含其中2项
                        </p>
                    </div>
                </div>
            </div>
            <div class="row form_row">
                <div class="col-xs-2 text-right">
                    <label>确认密码</label>
                </div>
                <div class="col-xs-5">
                    <input class="form-control" 
                           name="confirmPwd" 
                           type="password"
                           required
                           ng-model="account.confirmPwd"
                           tw-confirm-pwd
                           password="account.password"
                           ng-focus="hideErr('confirmPwd')"
                           ng-blur="showErr('confirmPwd')">
                    <div ng-show="formErr.confirmPwd">
                        <p class="alert alert-danger" ng-show="registerForm.confirmPwd.$error.required">
                            请再次输入密码
                        </p>
                        <p class="alert alert-danger" ng-show="registerForm.confirmPwd.$error.twConfirmPwd">
                            输入的密码不正确
                        </p>
                    </div>   
                </div>
            </div>
            <div class="row form_row">
                <div class="col-xs-2 text-right">
                    <label>邀请码</label>
                </div>
                <div class="col-xs-5">
                    <input class="form-control" 
                           name="forkCode"
                           type="text"
                           placeholder="邀请码（可不填）"
                           ng-model="account.forkCode">
                </div>
            </div>

            <div class="row form_row">
                <div class="col-xs-5 col-xs-offset-2">
                    <div class="checkbox">
                        <label>
                            <input name="agreement"
                                   type="checkbox"
                                   required
                                   ng-model="account.agreement">
                            同意并遵守 
                            <span>风险纰漏</span>
                            和 
                            <span>用户交易须知</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="row mg-tp-30">
                <div class="col-xs-5 col-xs-offset-2">
                    <button class="btn btn-danger" ng-click="registerDemo()">
                        注册账户
                    </button>
                </div>
            </div>
        </form>
    </div>

    <div class="register_demo" ng-if="step === 2">
        <div class="row">
            <div class="col-xs-5">
                <div class="register_demo__logo">
                </div>
            </div>
            <div class="col-xs-6 text-center">
                <h3 class="register_demo__title">账户注册完成</h3>
                <p class="register_demo__tip">
                    老虎汇已免费赠送您 10,000.00 美金进行模拟交易。 
                </p>
                <a class="btn btn-danger" href="#/personal">
                    进入个人中心
                </a>
                <span class="register_demo__register_real" ng-click="registerReal()">
                    开通真实账户，进行真实交易
                </span>
            </div>
        </div>
    </div>
</div>